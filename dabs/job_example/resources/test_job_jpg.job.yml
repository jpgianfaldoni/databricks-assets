resources:
  jobs:
    test_job_jpg:
      name: test_job_jpg
      tasks:
        - task_key: test_notebook
          email_notifications: {}
          notebook_task:
            base_parameters:
              my_param: test_param
            notebook_path: ../src/test_job.py
            source: WORKSPACE
          run_if: ALL_SUCCESS
          webhook_notifications: {}
        - task_key: test_for_each
          depends_on:
            - task_key: test_notebook
          email_notifications: {}
          for_each_task:
            concurrency: 9
            inputs: '[1,2,3]'
            task:
              email_notifications: {}
              notebook_task:
                base_parameters:
                  my_param: '{{input}}'
                notebook_path: /Workspace/Users/joao.gianfaldoni@databricks.com/test_job
                source: WORKSPACE
              run_if: ALL_SUCCESS
              task_key: test_for_each_iteration
          run_if: ALL_SUCCESS
      email_notifications: {}
      max_concurrent_runs: 1
      performance_target: PERFORMANCE_OPTIMIZED
      queue:
        enabled: true
      webhook_notifications: {}
